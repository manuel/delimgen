<html><head><script type="module">
import { run } from "../index.mjs";
import { sleep } from "../sleep.mjs";

function* sleeper(id)
{
    while (true)
    {
        document.write("hello from " + id + " ");
        yield* sleep(1000);
    }
}

function* main()
{
    yield *run(sleeper(1));
    yield *sleep(250);
    yield *run(sleeper(2));
    yield *sleep(250);
    yield *run(sleeper(3));
}

window.onload = () => run(main()).next();
</script></head></html>
